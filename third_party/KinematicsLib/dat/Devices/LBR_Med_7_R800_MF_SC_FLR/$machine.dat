&ACCESS  RV
&PARAM DISKPATH = MADA
&PARAM VERSION = 3.5.3
&REL 32
DEFDAT  $MACHINE PUBLIC
CHAR $V_R1MADA[32]
$V_R1MADA[]="V3.5.3/KUKA5.6" ;VERSIONSKENNUNG
INT $NUM_AX=6 ;ACHSEN DES ROBOTERSYSTEMS
INT $AXIS_TYPE[12] ;ACHSENKENNUNG
$AXIS_TYPE[1]=3 ;1 = LINEAR, 3 = ROTATORISCH, 5 = ENDLOS
$AXIS_TYPE[2]=3
$AXIS_TYPE[3]=3
$AXIS_TYPE[4]=3
$AXIS_TYPE[5]=3
$AXIS_TYPE[6]=3
$AXIS_TYPE[7]=3
DECL FRA $COUP_COMP[6,6] ;ACHSKOPPLUNGSFAKTOR N = ZAEHLER, D = NENNER
$COUP_COMP[1,2]={N 0,D 1}
$COUP_COMP[1,3]={N 0,D 1}
$COUP_COMP[1,4]={N 0,D 1}
$COUP_COMP[1,5]={N 0,D 1}
$COUP_COMP[1,6]={N 0,D 1}
$COUP_COMP[2,1]={N 0,D 1}
$COUP_COMP[2,3]={N 0,D 1}
$COUP_COMP[2,4]={N 0,D 1}
$COUP_COMP[2,5]={N 0,D 1}
$COUP_COMP[2,6]={N 0,D 1}
$COUP_COMP[3,1]={N 0,D 1}
$COUP_COMP[3,2]={N 0,D 1}
$COUP_COMP[3,4]={N 0,D 1}
$COUP_COMP[3,5]={N 0,D 1}
$COUP_COMP[3,6]={N 0,D 1}
$COUP_COMP[4,1]={N 0,D 1}
$COUP_COMP[4,2]={N 0,D 1}
$COUP_COMP[4,3]={N 0,D 1}
$COUP_COMP[4,5]={N 0,D 1}
$COUP_COMP[4,6]={N 0,D 1}
$COUP_COMP[5,1]={N 0,D 1}
$COUP_COMP[5,2]={N 0,D 1}
$COUP_COMP[5,3]={N 0,D 1}
$COUP_COMP[5,4]={N 0,D 1}
$COUP_COMP[5,6]={N 0,D 1}
$COUP_COMP[6,1]={N 0,D 1}
$COUP_COMP[6,2]={N 0,D 1}
$COUP_COMP[6,3]={N 0,D 1}
$COUP_COMP[6,4]={N 0,D 1}
$COUP_COMP[6,5]={N 0,D 1}
DECL FRA $EXCOUP_COMP[6,6] ;KOPPLUNGSFAKTOREN ACHSE 7 (INDEX 1) BIS ACHSE 12 (INDEX 12), N = ZAEHLER, D =NENNER
$EXCOUP_COMP[1,2]={N 0,D 1}
$EXCOUP_COMP[1,3]={N 0,D 1}
$EXCOUP_COMP[1,4]={N 0,D 1}
$EXCOUP_COMP[1,5]={N 0,D 1}
$EXCOUP_COMP[1,6]={N 0,D 1}
$EXCOUP_COMP[2,1]={N 0,D 1}
$EXCOUP_COMP[2,3]={N 0,D 1}
$EXCOUP_COMP[2,4]={N 0,D 1}
$EXCOUP_COMP[2,5]={N 0,D 1}
$EXCOUP_COMP[2,6]={N 0,D 1}
$EXCOUP_COMP[3,1]={N 0,D 1}
$EXCOUP_COMP[3,2]={N 0,D 1}
$EXCOUP_COMP[3,4]={N 0,D 1}
$EXCOUP_COMP[3,5]={N 0,D 1}
$EXCOUP_COMP[3,6]={N 0,D 1}
$EXCOUP_COMP[4,1]={N 0,D 1}
$EXCOUP_COMP[4,2]={N 0,D 1}
$EXCOUP_COMP[4,3]={N 0,D 1}
$EXCOUP_COMP[4,5]={N 0,D 1}
$EXCOUP_COMP[4,6]={N 0,D 1}
$EXCOUP_COMP[5,1]={N 0,D 1}
$EXCOUP_COMP[5,2]={N 0,D 1}
$EXCOUP_COMP[5,3]={N 0,D 1}
$EXCOUP_COMP[5,4]={N 0,D 1}
$EXCOUP_COMP[5,6]={N 0,D 1}
$EXCOUP_COMP[6,1]={N 0,D 1}
$EXCOUP_COMP[6,2]={N 0,D 1}
$EXCOUP_COMP[6,3]={N 0,D 1}
$EXCOUP_COMP[6,4]={N 0,D 1}
$EXCOUP_COMP[6,5]={N 0,D 1}
REAL $MAMES[12] ;VERSCHIEBUNG ZW. MECH. UND MATH. NULLPUNKT ACHSE[I] (I=1:A1,I=7:E1) [MM,GRAD]
$MAMES[1]=0
$MAMES[2]=0
$MAMES[3]=0
$MAMES[4]=0
$MAMES[5]=0
$MAMES[6]=0
$MAMES[7]=0
REAL $VEL_AX_JUS[12] ;GESCHWINDIGKEIT BEI EMT-JUSTAGE ACHSE[I] (I=1:A1,I=7:E1) [GRAD/SEC] (auf LBR5 nicht verwendet)
$VEL_AX_JUS[1]=1.0
$VEL_AX_JUS[2]=1.0
$VEL_AX_JUS[3]=1.0
$VEL_AX_JUS[4]=1.0
$VEL_AX_JUS[5]=1.0
$VEL_AX_JUS[6]=1.0
$VEL_AX_JUS[7]=1.0
REAL $L_EMT_MAX[12] ;LAENGE JUSTAGE-WEG EMT ACHSE[I] (I=1:A1,I=7:E1) [GRAD] (auf LBR5 nicht verwendet)
$L_EMT_MAX[1]=1.0
$L_EMT_MAX[2]=1.0
$L_EMT_MAX[3]=1.0
$L_EMT_MAX[4]=1.0
$L_EMT_MAX[5]=1.0
$L_EMT_MAX[6]=1.0
$L_EMT_MAX[7]=1.0
FRAME $ROBROOT={X 0.0,Y 0.0,Z 0.0,A 0.0,B 0.0,C 0.0};ROBOTER IM WELTKOORDINATENSYSTEM [MM,GRAD]
DECL FRA $RAT_MOT_AX[12] ;UEBERSETZUNG MOTOR-ACHSE N = ZAEHLER, D = NENNER
$RAT_MOT_AX[1]={N -160,D 1}
$RAT_MOT_AX[2]={N -160,D 1}
$RAT_MOT_AX[3]={N -160,D 1}
$RAT_MOT_AX[4]={N -100,D 1}
$RAT_MOT_AX[5]={N -160,D 1}
$RAT_MOT_AX[6]={N -160,D 1}
$RAT_MOT_AX[7]={N -160,D 1}
REAL $VEL_AXIS_MA[12] ;NENNDREHZAHL DES MOTORS ACHSE[I] (I=1:A1,I=7:E1) [U/MIN]
$VEL_AXIS_MA[1]=2614.000
$VEL_AXIS_MA[2]=2614.000
$VEL_AXIS_MA[3]=3467.000
$VEL_AXIS_MA[4]=2334.000
$VEL_AXIS_MA[5]=4800.000
$VEL_AXIS_MA[6]=4800.000
$VEL_AXIS_MA[7]=2667.000
INT $RED_ACC_DYN=100
REAL $APO_DIS_PTP[12] ;MAXIMALER UEBERSCHLEIFWEG PTP ACHSE[I] (I=1:A1,I=7:E1) [MM,GRAD]
$APO_DIS_PTP[1]=90.0
$APO_DIS_PTP[2]=90.0
$APO_DIS_PTP[3]=90.0
$APO_DIS_PTP[4]=90.0
$APO_DIS_PTP[5]=90.0
$APO_DIS_PTP[6]=90.0
$APO_DIS_PTP[7]=90.0
DECL CP $ACC_MA={CP 10.0,ORI1 1000.0,ORI2 1000.0} ;CP = MAX. BAHNBESCHLEUNIGUNG [M/SEC2], ORI1 = MAX. SCHWENKBESCHLEUNIGUNG     [GRAD/SEC2], ORI2 = MAX. DREHBESCHLEUNIGUNG [GRAD/SEC2]
DECL JERK_STRUC $JERK_MA={CP 500.0,ORI 50000.0,AX {A1 6362.51,A2 6410.51,A3 57053.09,A4 353339.85,A5 194832.38,A6 525424.53,E1 54714.01,E2 100000000000000000000.00,E3 100000000000000000000.00,E4 100000000000000000000.00,E5 100000000000000000000.00,E6 100000000000000000000.00}} ;Maximaler Ruck CP: [m/s^3], ORI: [deg/^3], AX: [deg/s^3] (rotatorisch) bzw. [m/s^3] (linear)
DECL CP $VEL_MA={CP 3.0,ORI1 400.0,ORI2 400.0} ;CP = MAX. BAHNGESCHWINDIGKEIT [M/SEC], ORI1 = MAX. SCHWENKGESCHWINDIGKEIT    [GRAD/SEC], ORI2 = MAX. DREHGESCHWINDIGKEIT [GRAD/SEC]
INT $DEF_FLT_PTP=200 ;DEFAULTFILTER PTP
INT $VEL_ACT_MA=110 ;GRENZWERT SOLLGESCHWINDIGKEIT [%]
REAL $SOFTN_END[12] ;SOFTWARE-ENDSCHALTER NEGATIV ACHSE[I] (I=1:A1,I=7:E1) [MM,GRAD]
$SOFTN_END[1]=-170
$SOFTN_END[2]=-210
$SOFTN_END[3]=-120
$SOFTN_END[4]=-170
$SOFTN_END[5]=-120
$SOFTN_END[6]=-175
$SOFTN_END[7]=-170
REAL $SOFTP_END[12] ;SOFTWARE-ENDSCHALTER POSITIV ACHSE[I] (I=1:A1,I=7:E1) [MM,GRAD]
$SOFTP_END[1]=170
$SOFTP_END[2]=30
$SOFTP_END[3]=120
$SOFTP_END[4]=170
$SOFTP_END[5]=120
$SOFTP_END[6]=175
$SOFTP_END[7]=170
CHAR $TRAFONAME[32] ;NAME DER KOORDINATENTRANSFORMATION
$TRAFONAME[]="#LBR iiwa 7 R800 MF SC FLR" ;MAXIMAL 32 ZEICHEN
DECL KINCLASS $KINCLASS=#STANDARD ;KINEMATIKKLASSEN (STANDARD,SPECIAL,TEST,NONE)
INT $TRAFO_AXIS=6 ;ANZAHL DER TRANSFORMIERTEN ACHSEN
DECL MAIN_AXIS $MAIN_AXIS=#LR ;GRUNDACHSENKENNUNG (SS = PORTAL, CC = SCARA, NR = GELENKROBOTER)
DECL WRIST_AXIS $WRIST_AXIS=#ZEH ;HANDACHSENKENNUNG (NOH = KEINE HAND, ZEH = ZENTRALHAND, SRH = SCHRAEGHAND    DSH = DOPPELSCHRAEGHAND, WIH = WINKELHAND, WSH = WINKELSCHRAEGHAND
INT $AXIS_SEQ[6] ;UMORDNUNG VON ACHSE[I] (I=1:A1,I=7:E1)
$AXIS_SEQ[1]=1
$AXIS_SEQ[2]=2
$AXIS_SEQ[3]=3
$AXIS_SEQ[4]=4
$AXIS_SEQ[5]=5
$AXIS_SEQ[6]=6
INT $AXIS_DIR[12] ;DREHRICHTUNG DER ACHSE[I] (I=1:A1,I=7:E1)
$AXIS_DIR[1]=1
$AXIS_DIR[2]=1
$AXIS_DIR[3]=-1
$AXIS_DIR[4]=1
$AXIS_DIR[5]=1
$AXIS_DIR[6]=1
$AXIS_DIR[7]=1
FRAME $TIRORO={X 0.00,Y 0.00,Z 340.00,A 0.00,B 0.00,C 0.00} ;FRAME ZWISCHEN INTERNEN ROBOTERKOORDINATENSYSTEM UND ROBOTERKOORDINATENSYSTEM
FRAME $TFLWP={X 0.00,Y 0.00,Z 126.00,A 0.00,B 0.00,C 0.00} ;FRAME ZWISCHEN FLANSCH- UND HANDPUNKTKOORDINATENSYSTEM
FRAME $TX3P3={X 400.00,Y 0.00,Z 0.00,A 0.00,B 90.00,C 0.00} ;ANBRINGUNG DER ROBOTERHAND
REAL $LENGTH_A=0.00 ;GRUNDACHSLAENGE A
REAL $LENGTH_B=400.00 ;GRUNDACHSLAENGE B
DECL DHART $DH_4={DHART_A 0.0,DHART_D 0.0,DHART_ALPHA -90.0} ;A = LAENGE A, D = LAENGE D, ALPHA = WINKEL ALPHA
DECL DHART $DH_5={DHART_A 0.0,DHART_D 0.0,DHART_ALPHA 90.0} ;A = LAENGE A, D = LAENGE D, ALPHA = WINKEL ALPHA
INT $EX_AX_NUM=1 ;ANZAHL EXTERNER ACHSEN (0-6)
ENDDAT
